/*!
 * jquery.geocomplete v1.0.0 (https://github.com/tmentink/jquery.geocomplete)
 * Copyright 2017 Trent Mentink
 * Licensed under MIT
 */

function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}if("undefined"==typeof jQuery&&"undefined"==typeof $)throw new Error("jQuery is required.");if("undefined"==typeof google||void 0===google.maps||void 0===google.maps.places)throw new Error("Google Maps JavaScript API v3 with Places libary is required.");!function(e){"use strict";function t(e){return e.offset().left-e.parent().offset().left}function n(e){var t=e.offset().top,n=e.outerHeight();return t-e.parent().offset().top+n}function o(){var t=document.createElement("style");return t.type="text/css",e("head")[0].appendChild(t),t}function r(e){for(var t in e)"#"!=t.substring(0,1)&&(e["#"+t]=e[t],delete e[t]);return e}function s(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n=new google.maps.Circle({center:{lat:t.coords.latitude,lng:t.coords.longitude},radius:t.coords.accuracy});e.setBounds(n.getBounds())})}function a(e){var t=e.placeAddress||[],n=e.name,o=e.type,r=t.map(function(e){return e.types[0]==o}).indexOf(!0);return-1!=r?t[r][n]:""}function i(e){return d(e)?"SEMANTIC_DROPDOWN":e.prop("nodeName")}function c(e){return e.getPlace()}function d(e){var t=e.parent();return!!(e.hasClass("ui")&&e.hasClass("dropdown")||t.hasClass("ui")&&t.hasClass("dropdown"))}var p="geocomplete",u={city:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"locality"})},country:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"country"})},county:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"administrative_area_level_2"})},formattedaddress:function(e){return e.formatted_address},neighborhood:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"neighborhood"})},state:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"administrative_area_level_1"})},street:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"route"})},streetaddress:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"street_number"})+" "+a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"route"})},streetnumber:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"street_number"})},zipcode:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"postal_code"})},zipcodesuffix:function(e,t){return a({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"postal_code_suffix"})}},l={appendToParent:!0,fields:{},geolocate:!1,types:["geocode"]},f={clear:{INPUT:function(e){e.val("")},SELECT:function(e){e.val("")},SEMANTIC_DROPDOWN:function(e){e.dropdown("clear")}},set:{INPUT:function(e,t){e.val(t)},SELECT:function(t,n){var o=e("option:contains("+n+")",t)[0].index;t.prop("selectedIndex",o)},SEMANTIC_DROPDOWN:function(e,t){e.dropdown("set selected",t)}}},m=0,h=void 0,_=function(){function a(i,c){var d=this;_classCallCheck(this,a),"string"==typeof c&&(c={}),c=e.extend(!0,{},e.fn[p].Defaults,c),this.element=i,this.fields=r(c.fields),this.obj=new google.maps.places.Autocomplete(i,c),this.obj.addListener("place_changed",function(){d.fillfields()}),c.geolocate&&s(this.obj),c.appendToParent&&(h=h||o(),setTimeout(function(){var o=e(i),r=e(".pac-container")[m],s=t(o)+"px !important",a=n(o)+"px !important";r.id="pac-container_"+i.id,h.innerHTML+="#"+r.id+"{top:"+a+"; left:"+s+";}",o.parent().css({position:"relative"}).append(r),m+=1},1e3))}return a.prototype.clearfields=function(){var t=this.fields;for(var n in t){var o=e(n);f.clear[i(o)](o)}return e(this.element)},a.prototype.fillfields=function(){this.clearfields();var t=this.fields,n=c(this.obj);for(var o in t){var r=t[o].toLowerCase().replace(/\s+/g,""),s=-1!=r.indexOf("short");r=r.replace("short","");var a=u[r](n,s),d=e(o);f.set[i(d)](d,a)}return e(this.element)},a.prototype.getbounds=function(){return this.obj.getBounds()},a.prototype.getplace=function(){return this.obj.getPlace()},a.prototype.setbounds=function(t){return this.obj.setBounds(t),e(this.element)},a.prototype.setcomponentrestrictions=function(t){return this.obj.setComponentRestrictions(t),e(this.element)},a.prototype.setoptions=function(t){return this.obj.setOptions(t),e(this.element)},a.prototype.settypes=function(t){return this.obj.setTypes(t),e(this.element)},a._jQueryInterface=function(t,n){var o=e(this),r=o.data("gmap.geocomplete");if(r||(r=new a(this[0],t),o.data("gmap.geocomplete",r)),"string"==typeof t){if(t=t.toLowerCase().replace(/\s+/g,""),void 0===r[t])throw new Error('No method named "'+t+'"');return r[t](n)}return this},a}();e.fn[p]=_._jQueryInterface,e.fn[p].Constructor=_,e.fn[p].Defaults=l}(window.jQuery||window.$);
